define("alimamaMessage",["jquery","underscore","cookie","alimama","errorCode"],function(a,b,c,d,e){return function(){function f(){}return f.prototype.run=function(f,g){var h,i,j;return j=a.Deferred(),h=new c,i=a.when(h.getAlimamaCookie("_tb_token_"),h.getTaoBaoCookie("_m_h5_tk"),h.getTaoBaoCookie("_m_h5_tk_enc")),i.done(function(a){return function(c,g,h){var i,k,l,m;return null===c&&(c={value:null}),null===g&&(g={value:null}),null===h&&(h={value:null}),a.alimama=new d(c.value,g.value,h.value),i=f.api,m=f.param,b.isArray(m)||(m=[m]),i?b.isFunction(a.alimama[i])?(l=a.alimama[i],k=l.apply(a.alimama,m),k.fail(function(a){return j.reject(a)}),k.done(function(a){return j.resolve(a)})):(j.reject({errorCode:e.ERROR_MESSAGE_API_NOT_FOUND,errorText:"\u672a\u627e\u5230\u6307\u5b9a\u7684API"}),j):(j.reject({errorCode:e.ERROR_MESSAGE_API_NOT_FOUND,errorText:"\u672a\u627e\u5230\u6307\u5b9a\u7684API"}),!1)}}(this)),j},f}()});