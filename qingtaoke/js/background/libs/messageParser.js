define("messageParser",["jquery","underscore","messageQueue","alimamaMessage","errorCode","configMessage","storageMessage","otherMessage","qtkmessage"],function(a,b,c,d,e,f,g,h,i){return function(){function a(){this.otherMessages=["alimamaLoginCheck","qtkLogged","bindAlimamaLoadedPage","boundAlimama","reloadConfig"],this.registerMessage()}return a.prototype.registerMessage=function(){return c.registerCallBack("background",function(a){return function(b,c,d){return a.runMessage(b,c,d)}}(this)),b.map(this.otherMessages,function(a){return function(b){return c.registerCallBack(b,function(b,c,d){return a.runOtherMessage(b,c,d)})}}(this))},a.prototype.runMessage=function(a,b,c){var h,j;return j=null,"alimama"===a.module?j=new d:"config"===a.module?j=new f:"storage"===a.module?j=new g:"qtk"===a.module&&(j=new i),j?(h=j.run(a,b),h.fail(function(a){return c({error:a,data:null})}),h.done(function(a){return c({error:!1,data:a})})):c({error:e.ERROR_MESSAGE_MODULE_NOT_FOUND,data:null})},a.prototype.runOtherMessage=function(a,b,c){var d,e;return e=new h,d=e.run(a,b),d.fail(function(a){return c({error:a,data:null})}),d.done(function(a){return c({error:!1,data:a})})},a}()});